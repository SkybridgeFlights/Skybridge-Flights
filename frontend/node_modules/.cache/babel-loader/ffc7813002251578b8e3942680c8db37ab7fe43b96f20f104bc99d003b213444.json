{"ast":null,"code":"// src/pages/UserProfilePage.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./UserProfilePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function safeParseUser(){try{const raw=localStorage.getItem('user');if(!raw)return null;return JSON.parse(raw);}catch{// في حال كانت القيمة تالفة امسحها وارجع null\nlocalStorage.removeItem('user');return null;}}const UserProfilePage=()=>{const navigate=useNavigate();const[user,setUser]=useState(null);useEffect(()=>{const u=safeParseUser();if(!u){// غير مسجل دخول -> إعادة إلى صفحة الدخول\nnavigate('/login');}else{setUser(u);}},[navigate]);const handleLogout=()=>{localStorage.removeItem('user');navigate('/login');};if(!user){// أثناء إعادة التوجيه أو القراءة\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-box\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading\\u2026\"})})});}const createdAt=user.createdAt?new Date(user.createdAt).toLocaleString():'—';return/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Your Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:user.name||'—'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Verified:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:user.isVerified?'Yes':'No'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Joined at:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:createdAt})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})});};export default UserProfilePage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","safeParseUser","raw","localStorage","getItem","JSON","parse","removeItem","UserProfilePage","navigate","user","setUser","u","handleLogout","className","children","createdAt","Date","toLocaleString","name","email","isVerified","onClick"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/pages/UserProfilePage.js"],"sourcesContent":["// src/pages/UserProfilePage.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './UserProfilePage.css';\r\n\r\nfunction safeParseUser() {\r\n  try {\r\n    const raw = localStorage.getItem('user');\r\n    if (!raw) return null;\r\n    return JSON.parse(raw);\r\n  } catch {\r\n    // في حال كانت القيمة تالفة امسحها وارجع null\r\n    localStorage.removeItem('user');\r\n    return null;\r\n  }\r\n}\r\n\r\nconst UserProfilePage = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const u = safeParseUser();\r\n    if (!u) {\r\n      // غير مسجل دخول -> إعادة إلى صفحة الدخول\r\n      navigate('/login');\r\n    } else {\r\n      setUser(u);\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (!user) {\r\n    // أثناء إعادة التوجيه أو القراءة\r\n    return (\r\n      <div className=\"user-profile-container\">\r\n        <div className=\"user-profile-box\">\r\n          <p>Loading…</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const createdAt =\r\n    user.createdAt ? new Date(user.createdAt).toLocaleString() : '—';\r\n\r\n  return (\r\n    <div className=\"user-profile-container\">\r\n      <div className=\"user-profile-box\">\r\n        <h2>Welcome to Your Account</h2>\r\n\r\n        <div className=\"user-field\">\r\n          <span className=\"label\">Name:</span>\r\n          <span className=\"value\">{user.name || '—'}</span>\r\n        </div>\r\n\r\n        <div className=\"user-field\">\r\n          <span className=\"label\">Email:</span>\r\n          <span className=\"value\">{user.email}</span>\r\n        </div>\r\n\r\n        <div className=\"user-field\">\r\n          <span className=\"label\">Verified:</span>\r\n          <span className=\"value\">{user.isVerified ? 'Yes' : 'No'}</span>\r\n        </div>\r\n\r\n        <div className=\"user-field\">\r\n          <span className=\"label\">Joined at:</span>\r\n          <span className=\"value\">{createdAt}</span>\r\n        </div>\r\n\r\n        {/* لاحقاً سنعرض الحجوزات/السجل هنا عبر استدعاءات API */}\r\n\r\n        <button className=\"logout-btn\" onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}