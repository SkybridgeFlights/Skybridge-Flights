{"ast":null,"code":"// frontend/src/pages/SearchResults.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./SearchResults.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SearchResults(){const[departureFlights,setDepartureFlights]=useState([]);const[returnFlights,setReturnFlights]=useState([]);const[isRoundTrip,setIsRoundTrip]=useState(false);const[filter,setFilter]=useState('all');const[airlineFilter,setAirlineFilter]=useState('all');const[maxPrice,setMaxPrice]=useState('');const[timeFilter,setTimeFilter]=useState('all');const navigate=useNavigate();useEffect(()=>{const stored=localStorage.getItem('searchResults');if(!stored)return;try{const parsed=JSON.parse(stored);if(Array.isArray(parsed)){setDepartureFlights(enhanceFlights(parsed));setIsRoundTrip(false);}else if(parsed!==null&&parsed!==void 0&&parsed.departureFlights&&parsed!==null&&parsed!==void 0&&parsed.returnFlights){setDepartureFlights(enhanceFlights(parsed.departureFlights));setReturnFlights(enhanceFlights(parsed.returnFlights));setIsRoundTrip(true);}else{console.warn('Unexpected searchResults format:',parsed);}}catch(e){console.error('Failed to parse searchResults',e);}},[]);const computeDuration=(dep,arr)=>{const depTime=new Date(`1970-01-01T${dep||'00:00'}:00`);const arrTime=new Date(`1970-01-01T${arr||'00:00'}:00`);let diff=(arrTime-depTime)/60000;if(diff<0)diff+=1440;return diff;};const enhanceFlights=flights=>flights.map(f=>{var _f$duration;const duration=(_f$duration=f.duration)!==null&&_f$duration!==void 0?_f$duration:f.departureTime&&f.arrivalTime?computeDuration(f.departureTime,f.arrivalTime):120;const departureHour=f.departureTime?parseInt(String(f.departureTime).split(':')[0],10):Math.floor(Math.random()*24);return{...f,direct:f.stops===0||f.direct===true,duration,departureHour};});const applyFilters=flights=>{let result=[...flights];if(filter==='direct'){result=result.filter(f=>f.direct);}else if(filter==='cheapest'){result.sort((a,b)=>a.price-b.price);}else if(filter==='fastest'){result.sort((a,b)=>a.duration-b.duration);}if(airlineFilter!=='all'){result=result.filter(f=>f.airline===airlineFilter);}if(maxPrice){result=result.filter(f=>f.price<=Number(maxPrice));}if(timeFilter!=='all'){result=result.filter(f=>{const h=f.departureHour;if(timeFilter==='morning')return h>=6&&h<12;if(timeFilter==='afternoon')return h>=12&&h<17;if(timeFilter==='evening')return h>=17&&h<21;if(timeFilter==='night')return h<6||h>=21;return true;});}return result;};const handleBook=(outboundId,returnId)=>{if(returnId){// نخزّن أيضاً معلومات مسار العودة احتياطاً\nlocalStorage.setItem('roundTripIntent',JSON.stringify({outboundId,returnId}));navigate(`/booking/outbound/${outboundId}?returnFlightId=${returnId}`);}else{navigate(`/booking/outbound/${outboundId}`);}};const uniqueAirlines=[...new Set([...departureFlights,...returnFlights].map(f=>f.airline))];return/*#__PURE__*/_jsxs(\"div\",{className:\"search-results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"results-title\",children:\"Available Flights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-bar\",children:[/*#__PURE__*/_jsx(\"button\",{className:filter==='all'?'active':'',onClick:()=>setFilter('all'),children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:filter==='direct'?'active':'',onClick:()=>setFilter('direct'),children:\"Direct Only\"}),/*#__PURE__*/_jsx(\"button\",{className:filter==='cheapest'?'active':'',onClick:()=>setFilter('cheapest'),children:\"Cheapest\"}),/*#__PURE__*/_jsx(\"button\",{className:filter==='fastest'?'active':'',onClick:()=>setFilter('fastest'),children:\"Fastest\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra-filters\",children:[/*#__PURE__*/_jsxs(\"select\",{value:airlineFilter,onChange:e=>setAirlineFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Airlines\"}),uniqueAirlines.map((airline,idx)=>/*#__PURE__*/_jsx(\"option\",{value:airline,children:airline},idx))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max Price (\\u20AC)\",value:maxPrice,onChange:e=>setMaxPrice(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:timeFilter,onChange:e=>setTimeFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Times\"}),/*#__PURE__*/_jsx(\"option\",{value:\"morning\",children:\"Morning (06:00 - 12:00)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"afternoon\",children:\"Afternoon (12:00 - 17:00)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"evening\",children:\"Evening (17:00 - 21:00)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"night\",children:\"Night (21:00 - 06:00)\"})]})]}),applyFilters(departureFlights).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:\"No outbound flights available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flights-grid\",children:applyFilters(departureFlights).map((out,idx)=>{if(isRoundTrip&&applyFilters(returnFlights).length>0){return applyFilters(returnFlights).map((ret,jdx)=>{const totalPrice=out.price+ret.price;return/*#__PURE__*/_jsxs(\"div\",{className:\"flight-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Departure:\"}),\" \",out.from,\" \\u2192 \",out.to]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Departure Date:\"}),\" \",out.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20AC\",out.price]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Return:\"}),\" \",ret.from,\" \\u2192 \",ret.to]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Return Date:\"}),\" \",ret.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20AC\",ret.price]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Price:\"}),\" \\u20AC\",totalPrice]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"book-btn\",onClick:()=>handleBook(out._id,ret._id),children:\"Book\"})]},`${idx}-${jdx}`);});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"flight-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From:\"}),\" \",out.from]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To:\"}),\" \",out.to]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",out.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20AC\",out.price]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"book-btn\",onClick:()=>handleBook(out._id),children:\"Book\"})]},idx);}})})]});}export default SearchResults;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchResults","departureFlights","setDepartureFlights","returnFlights","setReturnFlights","isRoundTrip","setIsRoundTrip","filter","setFilter","airlineFilter","setAirlineFilter","maxPrice","setMaxPrice","timeFilter","setTimeFilter","navigate","stored","localStorage","getItem","parsed","JSON","parse","Array","isArray","enhanceFlights","console","warn","e","error","computeDuration","dep","arr","depTime","Date","arrTime","diff","flights","map","f","_f$duration","duration","departureTime","arrivalTime","departureHour","parseInt","String","split","Math","floor","random","direct","stops","applyFilters","result","sort","a","b","price","airline","Number","h","handleBook","outboundId","returnId","setItem","stringify","uniqueAirlines","Set","className","children","onClick","value","onChange","target","idx","type","placeholder","length","out","ret","jdx","totalPrice","from","to","date","_id"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/SearchResults.js"],"sourcesContent":["// frontend/src/pages/SearchResults.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './SearchResults.css';\r\n\r\nfunction SearchResults() {\r\n  const [departureFlights, setDepartureFlights] = useState([]);\r\n  const [returnFlights, setReturnFlights] = useState([]);\r\n  const [isRoundTrip, setIsRoundTrip] = useState(false);\r\n  const [filter, setFilter] = useState('all');\r\n  const [airlineFilter, setAirlineFilter] = useState('all');\r\n  const [maxPrice, setMaxPrice] = useState('');\r\n  const [timeFilter, setTimeFilter] = useState('all');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('searchResults');\r\n    if (!stored) return;\r\n\r\n    try {\r\n      const parsed = JSON.parse(stored);\r\n\r\n      if (Array.isArray(parsed)) {\r\n        setDepartureFlights(enhanceFlights(parsed));\r\n        setIsRoundTrip(false);\r\n      } else if (parsed?.departureFlights && parsed?.returnFlights) {\r\n        setDepartureFlights(enhanceFlights(parsed.departureFlights));\r\n        setReturnFlights(enhanceFlights(parsed.returnFlights));\r\n        setIsRoundTrip(true);\r\n      } else {\r\n        console.warn('Unexpected searchResults format:', parsed);\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to parse searchResults', e);\r\n    }\r\n  }, []);\r\n\r\n  const computeDuration = (dep, arr) => {\r\n    const depTime = new Date(`1970-01-01T${dep || '00:00'}:00`);\r\n    const arrTime = new Date(`1970-01-01T${arr || '00:00'}:00`);\r\n    let diff = (arrTime - depTime) / 60000;\r\n    if (diff < 0) diff += 1440;\r\n    return diff;\r\n  };\r\n\r\n  const enhanceFlights = (flights) =>\r\n    flights.map((f) => {\r\n      const duration =\r\n        f.duration ??\r\n        (f.departureTime && f.arrivalTime\r\n          ? computeDuration(f.departureTime, f.arrivalTime)\r\n          : 120);\r\n\r\n      const departureHour = f.departureTime\r\n        ? parseInt(String(f.departureTime).split(':')[0], 10)\r\n        : Math.floor(Math.random() * 24);\r\n\r\n      return {\r\n        ...f,\r\n        direct: f.stops === 0 || f.direct === true,\r\n        duration,\r\n        departureHour,\r\n      };\r\n    });\r\n\r\n  const applyFilters = (flights) => {\r\n    let result = [...flights];\r\n\r\n    if (filter === 'direct') {\r\n      result = result.filter((f) => f.direct);\r\n    } else if (filter === 'cheapest') {\r\n      result.sort((a, b) => a.price - b.price);\r\n    } else if (filter === 'fastest') {\r\n      result.sort((a, b) => a.duration - b.duration);\r\n    }\r\n\r\n    if (airlineFilter !== 'all') {\r\n      result = result.filter((f) => f.airline === airlineFilter);\r\n    }\r\n\r\n    if (maxPrice) {\r\n      result = result.filter((f) => f.price <= Number(maxPrice));\r\n    }\r\n\r\n    if (timeFilter !== 'all') {\r\n      result = result.filter((f) => {\r\n        const h = f.departureHour;\r\n        if (timeFilter === 'morning') return h >= 6 && h < 12;\r\n        if (timeFilter === 'afternoon') return h >= 12 && h < 17;\r\n        if (timeFilter === 'evening') return h >= 17 && h < 21;\r\n        if (timeFilter === 'night') return h < 6 || h >= 21;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const handleBook = (outboundId, returnId) => {\r\n    if (returnId) {\r\n      // نخزّن أيضاً معلومات مسار العودة احتياطاً\r\n      localStorage.setItem(\r\n        'roundTripIntent',\r\n        JSON.stringify({ outboundId, returnId })\r\n      );\r\n      navigate(`/booking/outbound/${outboundId}?returnFlightId=${returnId}`);\r\n    } else {\r\n      navigate(`/booking/outbound/${outboundId}`);\r\n    }\r\n  };\r\n\r\n  const uniqueAirlines = [\r\n    ...new Set([...departureFlights, ...returnFlights].map((f) => f.airline)),\r\n  ];\r\n\r\n  return (\r\n    <div className=\"search-results-container\">\r\n      <h2 className=\"results-title\">Available Flights</h2>\r\n\r\n      <div className=\"filter-bar\">\r\n        <button className={filter === 'all' ? 'active' : ''} onClick={() => setFilter('all')}>All</button>\r\n        <button className={filter === 'direct' ? 'active' : ''} onClick={() => setFilter('direct')}>Direct Only</button>\r\n        <button className={filter === 'cheapest' ? 'active' : ''} onClick={() => setFilter('cheapest')}>Cheapest</button>\r\n        <button className={filter === 'fastest' ? 'active' : ''} onClick={() => setFilter('fastest')}>Fastest</button>\r\n      </div>\r\n\r\n      <div className=\"extra-filters\">\r\n        <select value={airlineFilter} onChange={(e) => setAirlineFilter(e.target.value)}>\r\n          <option value=\"all\">All Airlines</option>\r\n          {uniqueAirlines.map((airline, idx) => (\r\n            <option key={idx} value={airline}>{airline}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Max Price (€)\"\r\n          value={maxPrice}\r\n          onChange={(e) => setMaxPrice(e.target.value)}\r\n        />\r\n\r\n        <select value={timeFilter} onChange={(e) => setTimeFilter(e.target.value)}>\r\n          <option value=\"all\">All Times</option>\r\n          <option value=\"morning\">Morning (06:00 - 12:00)</option>\r\n          <option value=\"afternoon\">Afternoon (12:00 - 17:00)</option>\r\n          <option value=\"evening\">Evening (17:00 - 21:00)</option>\r\n          <option value=\"night\">Night (21:00 - 06:00)</option>\r\n        </select>\r\n      </div>\r\n\r\n      {applyFilters(departureFlights).length === 0 ? (\r\n        <p className=\"no-results\">No outbound flights available.</p>\r\n      ) : (\r\n        <div className=\"flights-grid\">\r\n          {applyFilters(departureFlights).map((out, idx) => {\r\n            if (isRoundTrip && applyFilters(returnFlights).length > 0) {\r\n              return applyFilters(returnFlights).map((ret, jdx) => {\r\n                const totalPrice = out.price + ret.price;\r\n                return (\r\n                  <div className=\"flight-card\" key={`${idx}-${jdx}`}>\r\n                    <div className=\"flight-info\">\r\n                      <p><strong>Departure:</strong> {out.from} → {out.to}</p>\r\n                      <p><strong>Departure Date:</strong> {out.date}</p>\r\n                      <p><strong>Price:</strong> €{out.price}</p>\r\n                      <hr />\r\n                      <p><strong>Return:</strong> {ret.from} → {ret.to}</p>\r\n                      <p><strong>Return Date:</strong> {ret.date}</p>\r\n                      <p><strong>Price:</strong> €{ret.price}</p>\r\n                      <hr />\r\n                      <p><strong>Total Price:</strong> €{totalPrice}</p>\r\n                    </div>\r\n                    <button className=\"book-btn\" onClick={() => handleBook(out._id, ret._id)}>\r\n                      Book\r\n                    </button>\r\n                  </div>\r\n                );\r\n              });\r\n            } else {\r\n              return (\r\n                <div className=\"flight-card\" key={idx}>\r\n                  <div className=\"flight-info\">\r\n                    <p><strong>From:</strong> {out.from}</p>\r\n                    <p><strong>To:</strong> {out.to}</p>\r\n                    <p><strong>Date:</strong> {out.date}</p>\r\n                    <p><strong>Price:</strong> €{out.price}</p>\r\n                  </div>\r\n                  <button className=\"book-btn\" onClick={() => handleBook(out._id)}>\r\n                    Book\r\n                  </button>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}