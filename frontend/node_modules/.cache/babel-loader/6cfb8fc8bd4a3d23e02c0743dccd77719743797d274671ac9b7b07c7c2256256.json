{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{API_BASE_URL}from'../apiConfig';// ‚úÖ ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StaffLoginPage=_ref=>{let{onStaffLogin}=_ref;const[form,setForm]=useState({email:'',password:''});const[error,setError]=useState('');const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError('');try{const res=await axios.post(`${API_BASE_URL}/api/staff/login`,form);// ‚úÖ ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ±ÿßÿ®ÿ∑\nlocalStorage.setItem('staffToken',res.data.token);localStorage.setItem('staffRole',res.data.role);localStorage.setItem('staffName',res.data.name);if(onStaffLogin)onStaffLogin();// optional callback\nwindow.location.href='/admin';// Redirect to admin panel\n}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Login failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",style:{maxWidth:'500px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Staff Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email,onChange:handleChange,className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,onChange:handleChange,className:\"form-control\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-100\",type:\"submit\",children:\"Login\"})]})]});};export default StaffLoginPage;","map":{"version":3,"names":["React","useState","axios","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","StaffLoginPage","_ref","onStaffLogin","form","setForm","email","password","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","res","post","localStorage","setItem","data","token","role","window","location","href","err","_err$response","_err$response$data","response","className","style","maxWidth","children","onSubmit","type","onChange","required"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/pages/StaffLoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../apiConfig'; // ‚úÖ ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä\r\n\r\nconst StaffLoginPage = ({ onStaffLogin }) => {\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [error, setError] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      const res = await axios.post(`${API_BASE_URL}/api/staff/login`, form); // ‚úÖ ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ±ÿßÿ®ÿ∑\r\n      localStorage.setItem('staffToken', res.data.token);\r\n      localStorage.setItem('staffRole', res.data.role);\r\n      localStorage.setItem('staffName', res.data.name);\r\n      if (onStaffLogin) onStaffLogin(); // optional callback\r\n      window.location.href = '/admin'; // Redirect to admin panel\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\" style={{ maxWidth: '500px' }}>\r\n      <h2>üë®‚Äçüíº Staff Login</h2>\r\n      {error && <p className=\"text-danger\">{error}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label>Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={form.password}\r\n            onChange={handleChange}\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-primary w-100\" type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffLoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}