{"ast":null,"code":"// src/pages/AllBookingsPage.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllBookingsPage=()=>{const[bookings,setBookings]=useState([]);useEffect(()=>{const fetchBookings=async()=>{try{const res=await axios.get('http://localhost:5000/api/bookings/all');setBookings(res.data);}catch(err){console.error('Failed to fetch bookings:',err);}};fetchBookings();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCB All Flight Bookings\"}),bookings.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No bookings found.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Flight\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Seat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Extras\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bookings.map(booking=>{var _booking$user,_booking$flight;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:((_booking$user=booking.user)===null||_booking$user===void 0?void 0:_booking$user.name)||'Guest'}),/*#__PURE__*/_jsx(\"td\",{children:(_booking$flight=booking.flight)===null||_booking$flight===void 0?void 0:_booking$flight.flightNumber}),/*#__PURE__*/_jsx(\"td\",{children:booking.seatNumber}),/*#__PURE__*/_jsxs(\"td\",{children:[booking.totalPrice,\" \",booking.currency||'USD']}),/*#__PURE__*/_jsx(\"td\",{children:booking.extraWeight?`${booking.extraWeight}kg`:'-'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(booking.createdAt).toLocaleDateString()})]},booking._id);})})]})]});};export default AllBookingsPage;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AllBookingsPage","bookings","setBookings","fetchBookings","res","get","data","err","console","error","className","children","length","map","booking","_booking$user","_booking$flight","user","name","flight","flightNumber","seatNumber","totalPrice","currency","extraWeight","Date","createdAt","toLocaleDateString","_id"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/pages/AllBookingsPage.js"],"sourcesContent":["// src/pages/AllBookingsPage.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AllBookingsPage = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/bookings/all');\r\n        setBookings(res.data);\r\n      } catch (err) {\r\n        console.error('Failed to fetch bookings:', err);\r\n      }\r\n    };\r\n    fetchBookings();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>ðŸ“‹ All Flight Bookings</h2>\r\n      {bookings.length === 0 ? (\r\n        <p>No bookings found.</p>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>User</th>\r\n              <th>Flight</th>\r\n              <th>Seat</th>\r\n              <th>Price</th>\r\n              <th>Extras</th>\r\n              <th>Date</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {bookings.map((booking) => (\r\n              <tr key={booking._id}>\r\n                <td>{booking.user?.name || 'Guest'}</td>\r\n                <td>{booking.flight?.flightNumber}</td>\r\n                <td>{booking.seatNumber}</td>\r\n                <td>{booking.totalPrice} {booking.currency || 'USD'}</td>\r\n                <td>{booking.extraWeight ? `${booking.extraWeight}kg` : '-'}</td>\r\n                <td>{new Date(booking.createdAt).toLocaleDateString()}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllBookingsPage;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,wCAAwC,CAAC,CACrEH,WAAW,CAACE,GAAG,CAACE,IAAI,CAAC,CACvB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAEF,GAAG,CAAC,CACjD,CACF,CAAC,CACDJ,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAKW,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7Bd,IAAA,OAAAc,QAAA,CAAI,kCAAsB,CAAI,CAAC,CAC9BV,QAAQ,CAACW,MAAM,GAAK,CAAC,cACpBf,IAAA,MAAAc,QAAA,CAAG,oBAAkB,CAAG,CAAC,cAEzBZ,KAAA,UAAOW,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtBd,IAAA,UAAAc,QAAA,cACEZ,KAAA,OAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAI,MAAI,CAAI,CAAC,cACbd,IAAA,OAAAc,QAAA,CAAI,QAAM,CAAI,CAAC,cACfd,IAAA,OAAAc,QAAA,CAAI,MAAI,CAAI,CAAC,cACbd,IAAA,OAAAc,QAAA,CAAI,OAAK,CAAI,CAAC,cACdd,IAAA,OAAAc,QAAA,CAAI,QAAM,CAAI,CAAC,cACfd,IAAA,OAAAc,QAAA,CAAI,MAAI,CAAI,CAAC,EACX,CAAC,CACA,CAAC,cACRd,IAAA,UAAAc,QAAA,CACGV,QAAQ,CAACY,GAAG,CAAEC,OAAO,OAAAC,aAAA,CAAAC,eAAA,oBACpBjB,KAAA,OAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAK,EAAAI,aAAA,CAAAD,OAAO,CAACG,IAAI,UAAAF,aAAA,iBAAZA,aAAA,CAAcG,IAAI,GAAI,OAAO,CAAK,CAAC,cACxCrB,IAAA,OAAAc,QAAA,EAAAK,eAAA,CAAKF,OAAO,CAACK,MAAM,UAAAH,eAAA,iBAAdA,eAAA,CAAgBI,YAAY,CAAK,CAAC,cACvCvB,IAAA,OAAAc,QAAA,CAAKG,OAAO,CAACO,UAAU,CAAK,CAAC,cAC7BtB,KAAA,OAAAY,QAAA,EAAKG,OAAO,CAACQ,UAAU,CAAC,GAAC,CAACR,OAAO,CAACS,QAAQ,EAAI,KAAK,EAAK,CAAC,cACzD1B,IAAA,OAAAc,QAAA,CAAKG,OAAO,CAACU,WAAW,CAAG,GAAGV,OAAO,CAACU,WAAW,IAAI,CAAG,GAAG,CAAK,CAAC,cACjE3B,IAAA,OAAAc,QAAA,CAAK,GAAI,CAAAc,IAAI,CAACX,OAAO,CAACY,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,GANpDb,OAAO,CAACc,GAOb,CAAC,EACN,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}