{"ast":null,"code":"// src/pages/RegisterPage.js\nimport React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';// ✅ نضيف هذا\nimport{API_BASE_URL}from'../apiConfig';import'./RegisterPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const[form,setForm]=useState({name:'',email:'',password:''});const[message,setMessage]=useState('');const navigate=useNavigate();// ✅ نستخدمه للتوجيه\nconst handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setMessage('');try{const res=await axios.post(`${API_BASE_URL}/api/users/register`,form);setMessage(res.data.message||'Please check your email to verify your account.');// ✅ ننتقل إلى صفحة التحقق بعد نجاح التسجيل\nsetTimeout(()=>{navigate('/verify-info');},1500);// ننتظر قليلاً لعرض الرسالة\n}catch(err){var _err$response,_err$response$data;setMessage(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Registration failed');}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a New Account\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:form.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-submit\",children:\"Register\"})]})]})});};export default RegisterPage;","map":{"version":3,"names":["React","useState","axios","useNavigate","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","RegisterPage","form","setForm","name","email","password","message","setMessage","navigate","handleChange","e","target","value","handleSubmit","preventDefault","res","post","data","setTimeout","err","_err$response","_err$response$data","response","error","className","children","onSubmit","type","onChange","required"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/pages/RegisterPage.js"],"sourcesContent":["// src/pages/RegisterPage.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // ✅ نضيف هذا\r\nimport { API_BASE_URL } from '../apiConfig';\r\nimport './RegisterPage.css';\r\n\r\nconst RegisterPage = () => {\r\n  const [form, setForm] = useState({ name: '', email: '', password: '' });\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate(); // ✅ نستخدمه للتوجيه\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    try {\r\n      const res = await axios.post(`${API_BASE_URL}/api/users/register`, form);\r\n      setMessage(res.data.message || 'Please check your email to verify your account.');\r\n      \r\n      // ✅ ننتقل إلى صفحة التحقق بعد نجاح التسجيل\r\n      setTimeout(() => {\r\n        navigate('/verify-info');\r\n      }, 1500); // ننتظر قليلاً لعرض الرسالة\r\n    } catch (err) {\r\n      setMessage(err.response?.data?.error || 'Registration failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <div className=\"register-box\">\r\n        <h2>Create a New Account</h2>\r\n        {message && <p className=\"message\">{message}</p>}\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Full Name</label>\r\n            <input type=\"text\" name=\"name\" value={form.name} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Email Address</label>\r\n            <input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input type=\"password\" name=\"password\" value={form.password} onChange={handleChange} required />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn-submit\">Register</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAChD,OAASC,YAAY,KAAQ,cAAc,CAC3C,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,CAAEW,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CACvE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAAE;AAEhC,KAAM,CAAAe,YAAY,CAAGC,CAAC,EAAI,CACxBR,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE,CAACS,CAAC,CAACC,MAAM,CAACR,IAAI,EAAGO,CAAC,CAACC,MAAM,CAACC,KAAM,CAAC,CAAC,CACvD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAH,CAAC,EAAI,CAC9BA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClBP,UAAU,CAAC,EAAE,CAAC,CACd,GAAI,CACF,KAAM,CAAAQ,GAAG,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,CAAC,GAAGrB,YAAY,qBAAqB,CAAEM,IAAI,CAAC,CACxEM,UAAU,CAACQ,GAAG,CAACE,IAAI,CAACX,OAAO,EAAI,iDAAiD,CAAC,CAEjF;AACAY,UAAU,CAAC,IAAM,CACfV,QAAQ,CAAC,cAAc,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CAAE;AACZ,CAAE,MAAOW,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZd,UAAU,CAAC,EAAAa,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcH,IAAI,UAAAI,kBAAA,iBAAlBA,kBAAA,CAAoBE,KAAK,GAAI,qBAAqB,CAAC,CAChE,CACF,CAAC,CAED,mBACE1B,IAAA,QAAK2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjC1B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,IAAA,OAAA4B,QAAA,CAAI,sBAAoB,CAAI,CAAC,CAC5BnB,OAAO,eAAIT,IAAA,MAAG2B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEnB,OAAO,CAAI,CAAC,cAChDP,KAAA,SAAM2B,QAAQ,CAAEb,YAAa,CAAAY,QAAA,eAC3B1B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,UAAA4B,QAAA,CAAO,WAAS,CAAO,CAAC,cACxB5B,IAAA,UAAO8B,IAAI,CAAC,MAAM,CAACxB,IAAI,CAAC,MAAM,CAACS,KAAK,CAAEX,IAAI,CAACE,IAAK,CAACyB,QAAQ,CAAEnB,YAAa,CAACoB,QAAQ,MAAE,CAAC,EACjF,CAAC,cACN9B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,UAAA4B,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5B5B,IAAA,UAAO8B,IAAI,CAAC,OAAO,CAACxB,IAAI,CAAC,OAAO,CAACS,KAAK,CAAEX,IAAI,CAACG,KAAM,CAACwB,QAAQ,CAAEnB,YAAa,CAACoB,QAAQ,MAAE,CAAC,EACpF,CAAC,cACN9B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,UAAA4B,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvB5B,IAAA,UAAO8B,IAAI,CAAC,UAAU,CAACxB,IAAI,CAAC,UAAU,CAACS,KAAK,CAAEX,IAAI,CAACI,QAAS,CAACuB,QAAQ,CAAEnB,YAAa,CAACoB,QAAQ,MAAE,CAAC,EAC7F,CAAC,cACNhC,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC1D,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}