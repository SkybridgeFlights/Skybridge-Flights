{"ast":null,"code":"// frontend/src/components/CancelRefundModal.js\nimport React,{useState,useEffect}from'react';import'./CancelRefundModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const REASONS=['Change of plans','Found a cheaper flight','Medical reasons','Visa/Documentation issues','Other'];export default function CancelRefundModal(_ref){var _booking$passengers,_booking$passengers$;let{open,booking,onClose,onProceed// ({ reason }) => void\n}=_ref;const[selectedReason,setSelectedReason]=useState(REASONS[0]);const[customReason,setCustomReason]=useState('');useEffect(()=>{if(open){setSelectedReason(REASONS[0]);setCustomReason('');}},[open]);if(!open)return null;const handleConfirm=()=>{const reason=selectedReason==='Other'&&customReason.trim()?customReason.trim():selectedReason;onProceed===null||onProceed===void 0?void 0:onProceed({reason});};return/*#__PURE__*/_jsx(\"div\",{className:\"crf-modal-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"crf-modal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"crf-close\",onClick:onClose,\"aria-label\":\"Close modal\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"crf-title\",children:\"Cancel / Refund booking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"crf-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"crf-summary\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"crf-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Passenger:\"}),' ',(booking===null||booking===void 0?void 0:(_booking$passengers=booking.passengers)===null||_booking$passengers===void 0?void 0:(_booking$passengers$=_booking$passengers[0])===null||_booking$passengers$===void 0?void 0:_booking$passengers$.name)||'—']}),/*#__PURE__*/_jsxs(\"p\",{className:\"crf-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Outbound:\"}),' ',booking!==null&&booking!==void 0&&booking.flight?`${booking.flight.from} → ${booking.flight.to}`:'—']}),(booking===null||booking===void 0?void 0:booking.returnFlight)&&/*#__PURE__*/_jsxs(\"p\",{className:\"crf-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Return:\"}),' ',`${booking.returnFlight.from} → ${booking.returnFlight.to}`]}),/*#__PURE__*/_jsxs(\"p\",{className:\"crf-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total paid:\"}),' ',\"\\u20AC\",((booking===null||booking===void 0?void 0:booking.totalPrice)||0)+((booking===null||booking===void 0?void 0:booking.totalPriceReturn)||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"crf-reasons\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reason-select\",className:\"crf-label\",children:\"Why are you cancelling?\"}),/*#__PURE__*/_jsx(\"select\",{id:\"reason-select\",className:\"crf-select\",value:selectedReason,onChange:e=>setSelectedReason(e.target.value),children:REASONS.map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))}),selectedReason==='Other'&&/*#__PURE__*/_jsx(\"textarea\",{className:\"crf-textarea\",rows:3,placeholder:\"Please describe your reason\\u2026\",value:customReason,onChange:e=>setCustomReason(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"crf-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"crf-btn crf-btn-outline\",onClick:onClose,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"crf-btn crf-btn-primary\",onClick:handleConfirm,children:\"Continue to refund page\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","REASONS","CancelRefundModal","_ref","_booking$passengers","_booking$passengers$","open","booking","onClose","onProceed","selectedReason","setSelectedReason","customReason","setCustomReason","handleConfirm","reason","trim","className","role","children","onClick","passengers","name","flight","from","to","returnFlight","totalPrice","totalPriceReturn","htmlFor","id","value","onChange","e","target","map","r","rows","placeholder"],"sources":["C:/Users/Wajd Shaaban/OneDrive/Desktop/SkybridgeFlights/frontend/src/components/CancelRefundModal.js"],"sourcesContent":["// frontend/src/components/CancelRefundModal.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport './CancelRefundModal.css';\r\n\r\nconst REASONS = [\r\n  'Change of plans',\r\n  'Found a cheaper flight',\r\n  'Medical reasons',\r\n  'Visa/Documentation issues',\r\n  'Other',\r\n];\r\n\r\nexport default function CancelRefundModal({\r\n  open,\r\n  booking,\r\n  onClose,\r\n  onProceed, // ({ reason }) => void\r\n}) {\r\n  const [selectedReason, setSelectedReason] = useState(REASONS[0]);\r\n  const [customReason, setCustomReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setSelectedReason(REASONS[0]);\r\n      setCustomReason('');\r\n    }\r\n  }, [open]);\r\n\r\n  if (!open) return null;\r\n\r\n  const handleConfirm = () => {\r\n    const reason =\r\n      selectedReason === 'Other' && customReason.trim()\r\n        ? customReason.trim()\r\n        : selectedReason;\r\n\r\n    onProceed?.({ reason });\r\n  };\r\n\r\n  return (\r\n    <div className=\"crf-modal-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"crf-modal\">\r\n        <button className=\"crf-close\" onClick={onClose} aria-label=\"Close modal\">\r\n          ×\r\n        </button>\r\n\r\n        <h3 className=\"crf-title\">Cancel / Refund booking</h3>\r\n\r\n        <div className=\"crf-body\">\r\n          <div className=\"crf-summary\">\r\n          <p className=\"crf-line\">\r\n            <strong>Passenger:</strong>{' '}\r\n            {booking?.passengers?.[0]?.name || '—'}\r\n          </p>\r\n          <p className=\"crf-line\">\r\n            <strong>Outbound:</strong>{' '}\r\n            {booking?.flight\r\n              ? `${booking.flight.from} → ${booking.flight.to}`\r\n              : '—'}\r\n          </p>\r\n          {booking?.returnFlight && (\r\n            <p className=\"crf-line\">\r\n              <strong>Return:</strong>{' '}\r\n              {`${booking.returnFlight.from} → ${booking.returnFlight.to}`}\r\n            </p>\r\n          )}\r\n          <p className=\"crf-line\">\r\n            <strong>Total paid:</strong>{' '}\r\n            €{(booking?.totalPrice || 0) + (booking?.totalPriceReturn || 0)}\r\n          </p>\r\n          </div>\r\n\r\n          <div className=\"crf-reasons\">\r\n            <label htmlFor=\"reason-select\" className=\"crf-label\">\r\n              Why are you cancelling?\r\n            </label>\r\n            <select\r\n              id=\"reason-select\"\r\n              className=\"crf-select\"\r\n              value={selectedReason}\r\n              onChange={(e) => setSelectedReason(e.target.value)}\r\n            >\r\n              {REASONS.map((r) => (\r\n                <option key={r} value={r}>\r\n                  {r}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            {selectedReason === 'Other' && (\r\n              <textarea\r\n                className=\"crf-textarea\"\r\n                rows={3}\r\n                placeholder=\"Please describe your reason…\"\r\n                value={customReason}\r\n                onChange={(e) => setCustomReason(e.target.value)}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"crf-footer\">\r\n          <button className=\"crf-btn crf-btn-outline\" onClick={onClose}>\r\n            Back\r\n          </button>\r\n          <button className=\"crf-btn crf-btn-primary\" onClick={handleConfirm}>\r\n            Continue to refund page\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}